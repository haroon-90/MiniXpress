import{r as a,T as $,j as e,u as I,R as L,a as T}from"./index-DhD9dF2h.js";import{d as D,e as z,f as B,g as O,h as U,i as Z}from"./index-Bo5RuEXP.js";/* empty css              */import{m as k,C as _}from"./card-CSSTLcvh.js";import"./MiniXpress_icon2-D76vAqsf.js";const G="/MiniXpress/assets/music_bg-g-EovDV9.svg",X="/MiniXpress/assets/music1-CIj6uZaO.jpg",K=()=>{const[l,d]=a.useState(null),[o,m]=a.useState(!1),[c,F]=a.useState(!1),[C,f]=a.useState(1),[g,x]=a.useState(0),[h,N]=a.useState(0),[P,M]=a.useState(""),[p,A]=a.useState(!1),s=a.useRef(null),{theme:E}=a.useContext($),u=E==="dark";a.useEffect(()=>{const r=t=>{if((t.code==="Space"||t.key===" ")&&(t.preventDefault(),b()),t.code==="ArrowRight")w();else if(t.code==="ArrowLeft")v();else if(t.code==="ArrowUp"){if(t.preventDefault(),s.current){const n=s.current.volume,i=Math.min(n+.05,1);s.current.volume=i,f(i)}}else if(t.code==="ArrowDown"){if(t.preventDefault(),s.current){const n=s.current.volume,i=Math.max(n-.05,0);s.current.volume=i,f(i)}}else t.key.toLowerCase()==="m"&&(t.preventDefault(),j())};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[o,p,l,c]);const V=r=>{const t=r.target.files[0];if(t){M(t.name);const n=new Audio(URL.createObjectURL(t));s.current=n,d(t),n.onloadedmetadata=()=>{N(n.duration)},n.oncanplaythrough=()=>{A(!0)},n.ontimeupdate=()=>{x(n.currentTime)}}},b=()=>{s.current&&(o?s.current.pause():s.current.play(),m(!o))},w=()=>{s.current&&(s.current.currentTime+=10)},v=()=>{s.current&&(s.current.currentTime-=10)},R=r=>{const t=parseFloat(r.target.value);f(t),s.current&&(s.current.volume=t)},j=()=>{s.current&&(s.current.muted=!c,F(!c))},S=r=>{const t=parseFloat(r.target.value);x(t),s.current&&(s.current.currentTime=t)},y=r=>{const t=Math.floor(r/60),n=Math.floor(r%60);return`${t}:${n<10?"0":""}${n}`};return a.useEffect(()=>{s.current&&s.current.addEventListener("ended",()=>{m(!1),x(0),s.current.play(),m(!0)})},[l]),e.jsx(k.div,{initial:{clipPath:"circle(0% at 50% 50%)"},animate:{clipPath:"circle(150% at 50% 50%)"},exit:{clipPath:"circle(0% at 50% 50%)"},transition:{duration:.7,ease:"easeInOut"},children:e.jsxs("div",{className:`${o?"bg":""} bg-blue-800/20 backdrop-blur-[2px] p-4 rounded-4xl shadow-xl w-[90vw] md:w-[70vw] lg:min-h-[90vh] mx-auto my-10 flex flex-col items-center justify-center`,style:{backgroundImage:`url(${G})`,backgroundSize:"contain",backgroundPosition:"center"},children:[e.jsx("input",{type:"file",accept:"audio/*",onChange:V,className:`block w-auto text-sm ${u?"text-white bg-[#0f1056] ":"text-black bg-[#E8F9FF]"}  p-2 md:p-3 mb-4 md:mb-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FFA500]`}),l?e.jsxs("div",{className:"bg-transparent p-4 rounded-lg max-w-full md:max-w-lg mx-auto flex flex-col items-center justify-center",children:[e.jsx("div",{className:"h-50 md:h-56 rounded-2xl overflow-hidden mb-6 shadow-lg border-4 border-[#FFA500] flex flex-col items-center justify-center bg-gradient-to-br from-[#25d366]/30 to-[#000]/10",style:{backgroundImage:`url(${X})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("p",{className:`text-center text-lg font-medium ${u?"text-white bg-gray-800/30":"text-black bg-gray-200/30"} mb-4 backdrop-blur-md`,children:[" ",P]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4 md:gap-6 md:mb-6",children:[e.jsx("button",{onClick:v,title:"Backward 10s",className:"bg-[#FFA500] hover:bg-[#ffd484] text-black font-bold py-2 px-4 md:px-6 rounded-full shadow-md",children:e.jsx(D,{size:20})}),e.jsx("button",{onClick:b,disabled:!p,className:`bg-[#FFA500] hover:bg-[#ffd484] text-black font-bold py-2 md:py-3 px-4 md:px-6 rounded-full shadow-md transition-all duration-300 ${p?"":"opacity-50 cursor-not-allowed"}`,children:o?e.jsx(z,{size:20}):e.jsx(B,{size:20})}),e.jsx("button",{onClick:w,title:"Forward 10s",className:"bg-[#FFA500] hover:bg-[#ffd484] text-black font-bold py-2 px-4 md:px-6 rounded-full shadow-md",children:e.jsx(O,{size:20})})]}),e.jsxs("div",{className:"w-full mb-4 md:mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:`p-2 rounded-full ${u?"text-white bg-[#0f1056]":"text-black bg-[#E8F9FF]"}`,children:y(g)}),e.jsx("span",{className:`p-2 rounded-full ${u?"text-white bg-[#0f1056]":"text-black bg-[#E8F9FF]"}`,children:y(h)})]}),e.jsx("input",{type:"range",min:"0",max:h||0,value:g||0,onChange:S,className:"w-full h-2 bg-[#333] rounded-lg"})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 mb-4 md:mb-6",children:[e.jsx("button",{onClick:j,className:"bg-[#df0000] hover:bg-[#ff0000] text-black font-bold py-2 px-4 md:px-6 rounded-full shadow-md",children:c?e.jsx(U,{}):e.jsx(Z,{})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:C,onChange:R,className:"w-1/2 md:w-32 h-2 bg-[#333] rounded-lg"})]})]}):e.jsx("p",{})]})})},q="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2019C9%2020.1046%207.65685%2021%206%2021C4.34315%2021%203%2020.1046%203%2019C3%2017.8954%204.34315%2017%206%2017C7.65685%2017%209%2017.8954%209%2019ZM9%2019V5L21%203V17M21%2017C21%2018.1046%2019.6569%2019%2018%2019C16.3431%2019%2015%2018.1046%2015%2017C15%2015.8954%2016.3431%2015%2018%2015C19.6569%2015%2021%2015.8954%2021%2017ZM9%209L21%207'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/svg%3e",ee=()=>{const l=I(),d=["musicplayer"].some(o=>l.pathname.includes(o));return e.jsx(k.div,{initial:{clipPath:"circle(0% at 50% 50%)"},animate:{clipPath:"circle(150% at 50% 50%)"},exit:{clipPath:"circle(0% at 50% 50%)"},transition:{duration:.7,ease:"easeInOut"},children:e.jsxs("div",{className:"flex flex-col",children:[!d&&e.jsx("div",{className:"flex justify-center items-center flex-wrap gap-2",children:e.jsx(_,{title:"MusicPlayer",icon:q})}),e.jsx(L,{children:e.jsx(T,{path:"musicplayer",element:e.jsx(K,{})})})]})})};export{ee as default};
